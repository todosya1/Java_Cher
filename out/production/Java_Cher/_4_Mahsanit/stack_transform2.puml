@startdot
digraph G {
    rankdir=TB;
    graph [nodesep=0.05, ranksep=0.05];
    node [shape=box, height=0.3, fixedsize=false, fontsize=12];
    edge [len=0.1];
    
    subgraph cluster_0 {
        label="Начальное состояние"
        s0_g [style=filled, fillcolor="#98FB98", label="G"];
        s0_c [style=filled, fillcolor="white", label="C"];
        s0_b [style=filled, fillcolor="white", label="B"];
        s0_a [style=filled, fillcolor="white", label="A"];
        s0_g:s -> s0_c:n [dir=none];
        s0_c:s -> s0_b:n [dir=none];
        s0_b:s -> s0_a:n [dir=none];
    }
    
    subgraph cluster_1 {
        label="1. pop() → G"
        s1_c [style=filled, fillcolor="#98FB98", label="C"];
        s1_b [style=filled, fillcolor="white", label="B"];
        s1_a [style=filled, fillcolor="white", label="A"];
        s1_c:s -> s1_b:n [dir=none];
        s1_b:s -> s1_a:n [dir=none];
    }
    
    subgraph cluster_2 {
        label="2. pop() → C"
        s2_b [style=filled, fillcolor="#98FB98", label="B"];
        s2_a [style=filled, fillcolor="white", label="A"];
        s2_b:s -> s2_a:n [dir=none];
    }
    
    subgraph cluster_3 {
        label="3. pop() → B"
        s3_a [style=filled, fillcolor="#98FB98", label="A"];
    }
    
    subgraph cluster_4 {
        label="4. pop() → A"
        s4_empty [style=filled, fillcolor="white", label=""];
    }
    
    subgraph cluster_5 {
        label="5. push(B)"
        s5_b [style=filled, fillcolor="#98FB98", label="B"];
    }
    
    subgraph cluster_6 {
        label="6. push(G)"
        s6_g [style=filled, fillcolor="#98FB98", label="G"];
        s6_b [style=filled, fillcolor="white", label="B"];
        s6_g:s -> s6_b:n [dir=none];
    }
}
@enddot

@startdot
digraph G {
    rankdir=TB;
    graph [nodesep=0.05, ranksep=0.05];
    node [shape=box, height=0.3, fixedsize=false, fontsize=12];
    edge [len=0.1];
    
    subgraph cluster_0 {
        label="Начальное состояние"
        s0_e [style=filled, fillcolor="#98FB98", label="E"];
        s0_d [style=filled, fillcolor="white", label="D"];
        s0_c [style=filled, fillcolor="white", label="C"];
        s0_b [style=filled, fillcolor="white", label="B"];
        s0_a [style=filled, fillcolor="white", label="A"];
        s0_e:s -> s0_d:n [dir=none];
        s0_d:s -> s0_c:n [dir=none];
        s0_c:s -> s0_b:n [dir=none];
        s0_b:s -> s0_a:n [dir=none];
    }
    
    subgraph cluster_1 {
        label="1. pop() → E"
        s1_d [style=filled, fillcolor="#98FB98", label="D"];
        s1_c [style=filled, fillcolor="white", label="C"];
        s1_b [style=filled, fillcolor="white", label="B"];
        s1_a [style=filled, fillcolor="white", label="A"];
        s1_d:s -> s1_c:n [dir=none];
        s1_c:s -> s1_b:n [dir=none];
        s1_b:s -> s1_a:n [dir=none];
    }
    
    subgraph cluster_2 {
        label="2. pop() → D"
        s2_c [style=filled, fillcolor="#98FB98", label="C"];
        s2_b [style=filled, fillcolor="white", label="B"];
        s2_a [style=filled, fillcolor="white", label="A"];
        s2_c:s -> s2_b:n [dir=none];
        s2_b:s -> s2_a:n [dir=none];
    }
    
    subgraph cluster_3 {
        label="3. pop() → C"
        s3_b [style=filled, fillcolor="#98FB98", label="B"];
        s3_a [style=filled, fillcolor="white", label="A"];
        s3_b:s -> s3_a:n [dir=none];
    }
    
    subgraph cluster_4 {
        label="4. push(E)"
        s4_e [style=filled, fillcolor="#98FB98", label="E"];
        s4_b [style=filled, fillcolor="white", label="B"];
        s4_a [style=filled, fillcolor="white", label="A"];
        s4_e:s -> s4_b:n [dir=none];
        s4_b:s -> s4_a:n [dir=none];
    }
}
@enddot

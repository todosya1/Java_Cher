@startdot
digraph G {
    rankdir=TB;
    graph [nodesep=0.05, ranksep=0.05];
    node [shape=box, height=0.3, fixedsize=false, fontsize=12];
    edge [len=0.1];
    
    subgraph cluster_1 {
        label="1. push('a')"
        s1_a [style=filled, fillcolor="#98FB98", label="a"];
    }
    
    subgraph cluster_2 {
        label="2. push('b')"
        s2_b [style=filled, fillcolor="#98FB98", label="b"];
        s2_a [style=filled, fillcolor="white", label="a"];
        s2_b:s -> s2_a:n [dir=none];
    }
    
    subgraph cluster_3 {
        label="3. push('c')"
        s3_c [style=filled, fillcolor="#98FB98", label="c"];
        s3_b [style=filled, fillcolor="white", label="b"];
        s3_a [style=filled, fillcolor="white", label="a"];
        s3_c:s -> s3_b:n [dir=none];
        s3_b:s -> s3_a:n [dir=none];
    }
    
    subgraph cluster_4 {
        label="4. pop() → 'c'"
        s4_b [style=filled, fillcolor="#98FB98", label="b"];
        s4_a [style=filled, fillcolor="white", label="a"];
        s4_b:s -> s4_a:n [dir=none];
    }
    
    subgraph cluster_5 {
        label="5. top() → 'b'"
        s5_b [style=filled, fillcolor="#98FB98", label="b"];
        s5_a [style=filled, fillcolor="white", label="a"];
        s5_b:s -> s5_a:n [dir=none];
    }
    
    subgraph cluster_6 {
        label="6. pop() → 'b'"
        s6_a [style=filled, fillcolor="#98FB98", label="a"];
    }
    
    subgraph cluster_7 {
        label="7. push('h')"
        s7_h [style=filled, fillcolor="#98FB98", label="h"];
        s7_a [style=filled, fillcolor="white", label="a"];
        s7_h:s -> s7_a:n [dir=none];
    }
    
    subgraph cluster_8 {
        label="8. push('k')"
        s8_k [style=filled, fillcolor="#98FB98", label="k"];
        s8_h [style=filled, fillcolor="white", label="h"];
        s8_a [style=filled, fillcolor="white", label="a"];
        s8_k:s -> s8_h:n [dir=none];
        s8_h:s -> s8_a:n [dir=none];
    }
    
    subgraph cluster_9 {
        label="9. pop() → 'k'\nФинальное состояние"
        s9_h [style=filled, fillcolor="#98FB98", label="h"];
        s9_a [style=filled, fillcolor="white", label="a"];
        s9_h:s -> s9_a:n [dir=none];
    }
}
@enddot
